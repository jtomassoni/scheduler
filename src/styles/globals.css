@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* CSS Variables for Theme Support */
  :root {
    /* Light theme colors */
    --color-background: 255 255 255;
    --color-foreground: 15 23 42;

    --color-primary: 37 99 235;
    --color-primary-foreground: 255 255 255;

    --color-secondary: 100 116 139;
    --color-secondary-foreground: 255 255 255;

    --color-accent: 147 51 234;
    --color-accent-foreground: 255 255 255;

    --color-muted: 241 245 249;
    --color-muted-foreground: 100 116 139;

    --color-border: 226 232 240;
    --color-input: 226 232 240;
    --color-ring: 37 99 235;

    --color-success: 34 197 94;
    --color-warning: 234 179 8;
    --color-error: 239 68 68;
    --color-info: 59 130 246;

    --radius: 0.5rem;
  }

  .dark {
    /* Dark theme colors */
    --color-background: 15 23 42;
    --color-foreground: 241 245 249;

    --color-primary: 59 130 246;
    --color-primary-foreground: 15 23 42;

    --color-secondary: 71 85 105;
    --color-secondary-foreground: 241 245 249;

    --color-accent: 168 85 247;
    --color-accent-foreground: 15 23 42;

    --color-muted: 30 41 59;
    --color-muted-foreground: 148 163 184;

    --color-border: 51 65 85;
    --color-input: 51 65 85;
    --color-ring: 59 130 246;

    --color-success: 74 222 128;
    --color-warning: 250 204 21;
    --color-error: 248 113 113;
    --color-info: 96 165 250;
  }

  /* Base styles */
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
  }

  /* Focus visible styles for accessibility */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-ring;
  }

  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer components {
  /* Button variants */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium
           transition-colors focus-visible:outline-none focus-visible:ring-2
           focus-visible:ring-ring focus-visible:ring-offset-2
           disabled:opacity-50 disabled:pointer-events-none
           px-4 py-2 min-h-[44px];
    /* 44px minimum touch target for accessibility */
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground hover:opacity-90;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:opacity-90;
  }

  .btn-outline {
    @apply border border-input bg-transparent hover:bg-accent hover:text-accent-foreground;
  }

  .btn-ghost {
    @apply hover:bg-accent hover:text-accent-foreground;
  }

  /* Input styles */
  .input {
    @apply flex h-10 w-full rounded-md border border-input
           bg-transparent px-3 py-2 text-sm
           ring-offset-background
           file:border-0 file:bg-transparent file:text-sm file:font-medium
           placeholder:text-muted-foreground
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring
           focus-visible:ring-offset-2
           disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Card styles */
  .card {
    @apply rounded-lg border border-border bg-background shadow-sm;
  }

  .card-header {
    @apply flex flex-col space-y-1.5 p-4 sm:p-5;
  }

  .card-content {
    @apply p-4 pt-0 sm:p-6 sm:pt-0;
  }

  /* Badge styles */
  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold
           transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }

  .badge-success {
    @apply bg-green-500/10 text-green-700 dark:text-green-300 border border-green-500/20;
  }

  .badge-warning {
    @apply bg-yellow-500/10 text-yellow-700 dark:text-yellow-300 border border-yellow-500/20;
  }

  .badge-error {
    @apply bg-red-500/10 text-red-700 dark:text-red-300 border border-red-500/20;
  }

  .badge-info {
    @apply bg-blue-500/10 text-blue-700 dark:text-blue-300 border border-blue-500/20;
  }

  /* Alert styles */
  .alert {
    @apply relative w-full rounded-lg border px-4 py-3 text-sm;
  }

  .alert-success {
    @apply border-green-500/50 bg-green-500/10 text-green-700 dark:text-green-300;
  }

  .alert-warning {
    @apply border-yellow-500/50 bg-yellow-500/10 text-yellow-700 dark:text-yellow-300;
  }

  .alert-error {
    @apply border-red-500/50 bg-red-500/10 text-red-700 dark:text-red-300;
  }

  .alert-info {
    @apply border-blue-500/50 bg-blue-500/10 text-blue-700 dark:text-blue-300;
  }

  /* Form label */
  .form-label {
    @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 block mb-2;
  }
}

@layer utilities {
  /* Custom utilities */
  .text-balance {
    text-wrap: balance;
  }

  /* Touch-friendly tap targets */
  .tap-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Scrollable container with touch-friendly momentum */
  .scroll-container {
    -webkit-overflow-scrolling: touch;
    @apply overflow-auto;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Custom scrollbar styling */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(147, 51, 234, 0.3) transparent;
  }

  *::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: rgba(147, 51, 234, 0.3);
    border-radius: 3px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: rgba(147, 51, 234, 0.5);
  }

  .dark *::-webkit-scrollbar-thumb {
    background-color: rgba(147, 51, 234, 0.4);
  }

  .dark *::-webkit-scrollbar-thumb:hover {
    background-color: rgba(147, 51, 234, 0.6);
  }

  /* Mobile-friendly forms */
  @media (max-width: 640px) {
    select,
    input[type='text'],
    input[type='email'],
    input[type='password'],
    input[type='number'],
    input[type='date'],
    input[type='time'],
    textarea {
      font-size: 16px; /* Prevents zoom on iOS */
    }
  }

  /* Better touch feedback */
  .touch-feedback {
    @apply active:scale-95 transition-transform;
  }
}
